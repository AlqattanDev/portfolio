/*
========================================
GLOBAL STYLES
Core layout and reset styles extracted from Layout.astro
========================================
*/

/* Core layout styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: var(--font-body);
  line-height: var(--line-height-base);
  transition:
    background-color var(--transition-slow) var(--ease-in-out),
    color var(--transition-slow) var(--ease-in-out);
  overflow-x: hidden;
  position: relative;
}

/* Smooth transitions for all interactive elements */
.section-title,
.entry-title,
.entry-meta,
.entry-description,
.contact-title,
.contact-meta,
.contact-description,
.tech-tag,
.checksum,
a {
  transition:
    color var(--transition-slow) var(--ease-in-out),
    border-color var(--transition-slow) var(--ease-in-out),
    background-color var(--transition-slow) var(--ease-in-out);
}

/* Theme change flash effect */
body.theme-changing {
  position: relative;
}

body.theme-changing::after {
  content: '';
  position: fixed;
  inset: 0;
  background: radial-gradient(
    circle at center,
    rgba(255, 255, 255, 0.1) 0%,
    transparent 70%
  );
  opacity: 0;
  pointer-events: none;
  z-index: 9999;
  animation: themeFlash 0.6s ease-out;
}

@keyframes themeFlash {
  0% {
    opacity: 0;
  }
  30% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

/* Enhanced theme transitions with staggered effects */
.container,
.entry,
.contact-card,
.project-card,
.skill-item {
  transition:
    all var(--transition-slow) var(--ease-in-out),
    box-shadow var(--transition-slower) var(--ease-in-out);
}

/* Ambient grid background in digital view */
body.digital-view::before {
  content: '';
  position: fixed;
  inset: 0;
  background:
    linear-gradient(
        90deg,
        rgba(0, 255, 65, 0.08) var(--border-width-thin),
        transparent var(--border-width-thin)
      )
      0 0 / var(--grid-background-size) var(--grid-background-size),
    linear-gradient(
        0deg,
        rgba(0, 255, 65, 0.06) var(--border-width-thin),
        transparent var(--border-width-thin)
      )
      0 0 / var(--grid-background-size) var(--grid-background-size);
  pointer-events: none;
  z-index: var(--z-base);
  opacity: 0.25;
}

/* View modes */
body.digital-view {
  background: var(--background-digital);
  color: var(--foreground-digital);
}

body.print-view {
  background: var(--background-print);
  color: var(--foreground-print);
}

/* Layout container */
.container {
  max-width: var(--container-lg);
  margin: 0 auto;
  padding: var(--space-4xl) var(--space-lg) var(--space-2xl);
  position: relative;
  z-index: var(--z-base);
  /* Modern mobile device support */
  padding-top: calc(var(--space-4xl) + var(--safe-area-inset-top));
  padding-left: calc(var(--space-lg) + var(--safe-area-inset-left));
  padding-right: calc(var(--space-lg) + var(--safe-area-inset-right));
  padding-bottom: calc(var(--space-2xl) + var(--safe-area-inset-bottom));
}

.page {
  min-height: 100vh;
  min-height: 100dvh; /* Dynamic viewport height for mobile browsers */
}

/* Enhanced responsive adjustments */
@media (max-width: 1024px) {
  .container {
    padding: var(--space-3xl) var(--space-lg) var(--space-2xl);
  }
}

@media (max-width: 768px) {
  .container {
    padding: var(--space-3xl) var(--space-md) var(--space-2xl);
    padding-left: calc(var(--space-md) + var(--safe-area-inset-left));
    padding-right: calc(var(--space-md) + var(--safe-area-inset-right));
  }
}

@media (max-width: 480px) {
  .container {
    padding: var(--space-3xl) var(--space-sm) var(--space-2xl);
    padding-left: calc(var(--space-sm) + var(--safe-area-inset-left));
    padding-right: calc(var(--space-sm) + var(--safe-area-inset-right));
  }
}

@media (max-width: 360px) {
  .container {
    padding: var(--space-2xl) var(--space-xs) var(--space-lg);
    padding-left: calc(var(--space-xs) + var(--safe-area-inset-left));
    padding-right: calc(var(--space-xs) + var(--safe-area-inset-right));
  }
}

/* Modern mobile features */
@media (prefers-reduced-motion: reduce) {
  .section-title,
  .entry-title,
  .entry-meta,
  .entry-description,
  .contact-title,
  .contact-meta,
  .contact-description,
  .tech-tag,
  .checksum,
  a {
    transition: none !important;
  }

  body.digital-view::before {
    animation: none !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  body.digital-view::before {
    opacity: 0.5;
  }

  .section-title,
  .entry-title {
    font-weight: var(--font-weight-bold);
  }
}

/* Hide digital-only elements when printing */
@media print {
  .digital-only {
    display: none !important;
  }
}
